import{W as l,r as d,j as r,F as m}from"./app-DKVi1_mi.js";import{A as u,B as s,b as o,F as h}from"./AppLayout-DulAkrE9.js";import{T as g}from"./Title-8vl8qUaT.js";import{F as p,I as c}from"./IconFileSpreadsheet-ClZWNLmQ.js";import{D as b}from"./Divider-C-IJjjTJ.js";import{S as f}from"./SimpleGrid-CtIiO6OI.js";import{T as a}from"./TextInput-J-w0ffvc.js";import{I as k,a as _}from"./IconPhone-CxSm4HYc.js";import{Y as x}from"./YearPickerInput-5uRe_EVI.js";import{I as j}from"./IconCalendar-XEOnhwl0.js";import{I as v,a as w}from"./IconPassword-DQHpFfrG.js";import{S as y}from"./Select-CFv9R0tZ.js";import"./get-base-value-DSPtrI5u.js";import"./InputBase-C8qqqk6s.js";import"./Input-CHSEXeBi.js";import"./clamp-DTmYCdls.js";import"./ScrollArea-BDoJ1IhR.js";const G=i=>{const e=l({file:null,full_name:"",student_id_number:"",phone_number:"",academic_year:"",email:"",password:"",supervisor_id:""});return d.useEffect(()=>{e.data.student_id_number&&e.setData("password",e.data.student_id_number)},[e.data.student_id_number]),r.jsx("form",{onSubmit:t=>{t.preventDefault(),e.post(route("students.store"))},children:r.jsxs(u,{title:"Tambah Mahasiswa",activeNav:"Mahasiswa",authed:i.auth.user,meta:i.meta,children:[r.jsx(g,{align:"center",mb:32,children:"Tambah Data Mahasiswa"}),r.jsx(p,{variant:"light",color:"green",w:"100%",onChange:t=>e.setData("file",t),accept:"text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",children:t=>r.jsx(s,{px:16,styles:{section:{marginRight:16}},h:48,radius:32,leftSection:r.jsx(c,{}),...t,children:e.data.file?e.data.file.name:"Pilih Berkas Excel"})}),r.jsx(b,{my:24,label:"Atau",labelPosition:"center",styles:{label:{fontSize:14}}}),r.jsxs(f,{cols:2,my:16,children:[r.jsx(a,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:r.jsx(o,{}),withAsterisk:!0,label:"Nama Lengkap",placeholder:"Masukkan nama lengkap...",onChange:t=>{e.setData("full_name",t.target.value),t.target.value?e.clearErrors("full_name"):e.setError({full_name:"Nama lengkap tidak boleh kosong."})},error:e.errors.full_name}),r.jsx(a,{type:"number",leftSection:r.jsx(k,{}),styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},withAsterisk:!0,label:"NIM",hideControls:!0,placeholder:"Masukkan NIM...",onChange:t=>{e.setData("student_id_number",t.target.value.toString()),t.target.value?e.clearErrors("student_id_number"):e.setError({student_id_number:"NIM tidak boleh kosong."}),t.target.value.toString().length<10||t.target.value.toString().length>10?e.setError({student_id_number:"NIM harus 10 digit."}):e.clearErrors("student_id_number")},error:e.errors.student_id_number}),r.jsx(a,{type:"number",styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:r.jsx(_,{}),withAsterisk:!0,label:"Nomor Telepon",hideControls:!0,placeholder:"Masukkan nomor telepon...",onChange:t=>{e.setData("phone_number",t.target.value.toString()),t.target.value?e.clearErrors("phone_number"):e.setError({phone_number:"Nomor telepon tidak boleh kosong."}),t.target.value.toString().length<10||t.target.value.toString().length>13?e.setError({phone_number:"Nomor telepon harus 10-13 digit."}):e.clearErrors("phone_number")},error:e.errors.phone_number}),r.jsx(x,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:r.jsx(j,{}),withAsterisk:!0,label:"Tahun Angkatan",placeholder:"Masukkan tahun angkatan...",onChange:t=>{t?(e.clearErrors("academic_year"),e.setData("academic_year",t.getFullYear().toString())):e.setError({academic_year:"Tahun akademik tidak boleh kosong."})},error:e.errors.academic_year}),r.jsx(a,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:r.jsx(v,{}),withAsterisk:!0,type:"email",label:"Email",placeholder:"Masukkan email...",onChange:t=>{e.setData("email",t.target.value.toLowerCase()),t.target.value?e.clearErrors("email"):e.setError({email:"Email tidak boleh kosong."})},error:e.errors.email}),r.jsx(a,{type:"password",styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:r.jsx(w,{}),withAsterisk:!0,disabled:!0,value:e.data.student_id_number,label:"Kata Sandi (Bawaan: NIM)",placeholder:"Masukkan kata sandi..."})]}),r.jsx(y,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:r.jsx(o,{}),label:"Dosen Pembimbing Akademik",placeholder:"Masukkan Dosen Pembimbing Akademik...",clearable:!0,searchable:!0,withAsterisk:!0,nothingFoundMessage:"Tidak ada dosen pembimbing akademik",checkIconPosition:"right",data:i.lecturers.map(t=>({label:t.user.full_name,value:t.user.id})),onChange:t=>{e.setData("supervisor_id",t),t?e.clearErrors("supervisor_id"):e.setError({supervisor_id:"Dosen pembimbing akademik tidak boleh kosong."})},error:e.errors.supervisor_id}),r.jsxs(h,{mt:24,gap:16,children:[r.jsx(s,{h:48,px:16,styles:{section:{marginRight:12}},radius:32,variant:"outline",color:"red",disabled:e.processing,fullWidth:!0,onClick:()=>m.get(route("students.index")),children:"Batal"}),r.jsx(s,{h:48,px:16,styles:{section:{marginRight:12}},radius:32,disabled:e.data.file?!1:e.hasErrors||Object.entries(e.data).some(([t,n])=>t!=="file"&&!n),fullWidth:!0,loading:e.processing,type:"submit",children:"Simpan"})]})]})})};export{G as default};
