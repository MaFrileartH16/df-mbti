import{r as C,W as A,j as e,B as g,F as H}from"./app-Y9Z_uIIJ.js";import{A as y,S as w,f,g as G,F as k,B as T}from"./AppLayout-DHrDqh_3.js";import{R as s,u as S,S as L,L as _,P as v}from"./index-BelC6wcg.js";import{T as B}from"./Title-BO90tquf.js";import{G as h}from"./Grid-Cg9UZ9Sd.js";import{T as D}from"./TextInput-BlA2xI_O.js";import{S as F}from"./SimpleGrid-DJu2igjc.js";import{C as U}from"./Checkbox-CW_f8PhA.js";import{N as R}from"./NumberInput-D7A9Lj_M.js";import{I as M,a as I}from"./IconCaretUp-Cc1YUOc-.js";import"./ColorSwatch-DUM7C1Rs.js";import"./Input-Bx2AqSHT.js";import"./clamp-DTmYCdls.js";import"./get-base-value-Uu4rZiQy.js";import"./InputBase-ny2GuT0d.js";import"./get-auto-contrast-value-Da6zqqWm.js";import"./InputsGroupFieldset-8aCjQ2W3.js";import"./CheckIcon-CmwsKaQY.js";const re=j=>{const[m,u]=C.useState([]),i=A({name:"",detail:"",basic_traits:[],course:""});return C.useEffect(()=>{const x=j.basic_traits.slice(0,8).map((t,p)=>({id:t.id,code:t.code,selected:!1,min_value:10,max_value:50,order:Math.floor(p/2)+1})).reduce((t,p,r,o)=>(r%2===0&&t.push(o.slice(r,r+2)),t),[]);u(x)},[]),e.jsx("form",{onSubmit:a=>{a.preventDefault(),i.post(route("works.store"))},children:e.jsx(y,{title:"Tambah Pekerjaan",activeNav:"Pekerjaan",authed:j.auth.user,meta:j.meta,children:e.jsxs(w,{px:160,children:[e.jsx(B,{align:"center",mb:32,children:"Masukkan Data Pekerjaan"}),e.jsxs(g,{mb:32,children:[e.jsx(B,{order:6,mb:8,children:"Keterangan Nama Tipe Kepribadian:"}),e.jsx(h,{grow:!0,cols:j.basic_traits.length,children:j.basic_traits.map(a=>e.jsx(h.Col,{children:e.jsxs(f,{children:[a.code," - ",a.name]})},a.id))})]}),e.jsx(D,{mb:16,leftSection:e.jsx(G,{}),styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},withAsterisk:!0,label:"Pekerjaan",placeholder:"Masukkan pekerjaan...",onChange:a=>i.setData("name",a.target.value)}),e.jsxs(g,{children:[e.jsx(f,{fz:14,children:"Rincian Pekerjaan"}),e.jsxs(s,{mb:8,styles:{content:{border:"1px solid #dcdcdc"}},editor:S({extensions:[L,_,v.configure({placeholder:"Masukkan detail..."})],content:i.data.detail,onUpdate:({editor:a})=>{i.setData("detail",a.getHTML())}}),children:[e.jsxs(s.Toolbar,{children:[e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Bold,{}),e.jsx(s.Italic,{}),e.jsx(s.Underline,{}),e.jsx(s.Strikethrough,{}),e.jsx(s.ClearFormatting,{}),e.jsx(s.Highlight,{}),e.jsx(s.Code,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.H1,{}),e.jsx(s.H2,{}),e.jsx(s.H3,{}),e.jsx(s.H4,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Blockquote,{}),e.jsx(s.Hr,{}),e.jsx(s.BulletList,{}),e.jsx(s.OrderedList,{}),e.jsx(s.Subscript,{}),e.jsx(s.Superscript,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Link,{}),e.jsx(s.Unlink,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.AlignLeft,{}),e.jsx(s.AlignCenter,{}),e.jsx(s.AlignJustify,{}),e.jsx(s.AlignRight,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Undo,{}),e.jsx(s.Redo,{})]})]}),e.jsx(s.Content,{})]})]}),e.jsxs(g,{children:[e.jsx(f,{fz:14,mb:8,children:"Mata Kuliah Relevan"}),e.jsxs(s,{styles:{content:{border:"1px solid #dcdcdc"}},editor:S({extensions:[L,_,v.configure({placeholder:"Masukkan mata kuliah relevan..."})],content:i.data.course,onUpdate:({editor:a})=>{i.setData("course",a.getHTML())}}),children:[e.jsxs(s.Toolbar,{children:[e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Bold,{}),e.jsx(s.Italic,{}),e.jsx(s.Underline,{}),e.jsx(s.Strikethrough,{}),e.jsx(s.ClearFormatting,{}),e.jsx(s.Highlight,{}),e.jsx(s.Code,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.H1,{}),e.jsx(s.H2,{}),e.jsx(s.H3,{}),e.jsx(s.H4,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Blockquote,{}),e.jsx(s.Hr,{}),e.jsx(s.BulletList,{}),e.jsx(s.OrderedList,{}),e.jsx(s.Subscript,{}),e.jsx(s.Superscript,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Link,{}),e.jsx(s.Unlink,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.AlignLeft,{}),e.jsx(s.AlignCenter,{}),e.jsx(s.AlignJustify,{}),e.jsx(s.AlignRight,{})]}),e.jsxs(s.ControlsGroup,{children:[e.jsx(s.Undo,{}),e.jsx(s.Redo,{})]})]}),e.jsx(s.Content,{})]})]}),e.jsxs(g,{children:[e.jsx(f,{fz:14,mb:8,children:"Tipe Kepribadian"}),m.map((a,x)=>e.jsx(F,{cols:2,mb:16,spacing:32,children:a.map(t=>{const p=i.data.basic_traits.some(r=>r.order===t.order&&r.selected);return e.jsxs(h,{gutter:0,grow:!0,children:[e.jsx(h.Col,{span:1,children:e.jsx(k,{align:"center",h:"100%",children:e.jsx(U,{disabled:p&&!t.selected||!t.selected&&a.some(r=>r.selected),checked:t.selected,onChange:r=>{let o=[...i.data.basic_traits];const c=o.findIndex(l=>l.code===t.code);r.target.checked?c===-1?o.push({...t,selected:r.target.checked}):o[c]={...o[c],selected:r.target.checked}:c!==-1&&o.splice(c,1),o.sort((l,d)=>l.order-d.order),i.setData("basic_traits",o);const n=m.map((l,d)=>d===x?l.map(b=>b.code===t.code?{...b,selected:r.target.checked}:b):l);u(n)},label:t.code})})}),e.jsx(h.Col,{span:10,children:e.jsxs(k,{gap:16,children:[e.jsx(R,{disabled:!t.selected,styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:e.jsx(M,{}),withAsterisk:!0,placeholder:`${t.min_value}%`,min:10,max:50,value:t.min_value,suffix:"%",onChange:r=>{const o=m.map((n,l)=>l===x?n.map(d=>d.code===t.code?{...d,min_value:r}:d):n);u(o);const c=i.data.basic_traits.map(n=>n.code===t.code?{...n,min_value:r}:n);i.setData("basic_traits",c)}}),e.jsx(R,{disabled:!t.selected,styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:e.jsx(I,{}),withAsterisk:!0,placeholder:`${t.max_value}%`,min:10,max:50,value:t.max_value,suffix:"%",onChange:r=>{const o=m.map((n,l)=>l===x?n.map(d=>d.code===t.code?{...d,max_value:r}:d):n);u(o);const c=i.data.basic_traits.map(n=>n.code===t.code?{...n,max_value:r}:n);i.setData("basic_traits",c)}})]})})]},t.id)})},x))]}),e.jsxs(k,{mt:24,gap:16,children:[e.jsx(T,{h:48,px:16,styles:{section:{marginRight:12}},radius:32,variant:"outline",color:"red",disabled:i.processing,fullWidth:!0,onClick:()=>H.get(route("works.index")),children:"Batal"}),e.jsx(T,{h:48,px:16,styles:{section:{marginRight:12}},radius:32,fullWidth:!0,loading:i.processing,type:"submit",children:"Simpan"})]})]})})})};export{re as default};
