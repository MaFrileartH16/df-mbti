import{f as yt,u as mt,b as Gt,c as pt,j as b,g as G,B as gt,R as O,d as Y,r as ut,e as he}from"./app-ujya-KCz.js";import{u as de,A as ve,a as ye}from"./AppLayout-uetAMH0A.js";import{S as me}from"./Select-Cxm2Nn1D.js";import{C as Ft}from"./ColorSwatch-j8xU88fw.js";import{g as pe,i as L,G as ge,a as lt,m as xe,b as F,T as be,s as st,f as R,c as Tt,L as zt,d as we,e as ft,u as xt,h as bt,j as ke,k as Oe,l as Pe,w as Lt,n as Mt,o as tt,p as je,q as Se,r as Ae,B as Kt,t as Ce,C as _e,R as Te,v as ze,x as Le,y as Ne}from"./generateCategoricalChart-BzeukhLl.js";import"./Input-D_xKmpb8.js";import"./CheckIcon-DPnDoRdz.js";import"./ScrollArea-BByIigrI.js";import"./InputBase-o0xNPV29.js";function Rt(t){return t?t.reduce((e,i)=>(e[i.name]=i.label,e),{}):{}}var Ee={tooltip:"m_e4d36c9b",tooltipLabel:"m_7f4bcb19",tooltipBody:"m_3de554dd",tooltipItem:"m_3de8964e",tooltipItemColor:"m_b30369b5",tooltipItemBody:"m_50186d10",tooltipItemName:"m_501dadf9",tooltipItemData:"m_50192318"};function $e(t,e){const i=t.filter(r=>r.fill!=="none"||!r.color);return e?i.filter(r=>r.name===e):i}function Nt(t,e){return e==="radial"||e==="scatter"?Array.isArray(t.value)?t.value[1]-t.value[0]:t.value:Array.isArray(t.payload[t.dataKey])?t.payload[t.dataKey][1]-t.payload[t.dataKey][0]:t.payload[t.dataKey]}const Ie={type:"area"},Vt=yt((t,e)=>{var z,$;const i=mt("ChartTooltip",Ie,t),{classNames:r,className:n,style:a,styles:o,unstyled:c,vars:s,payload:u,label:l,unit:y,type:f,segmentId:h,mod:m,series:g,valueFormatter:v,...w}=i,p=Gt(),d=pt({name:"ChartTooltip",classes:Ee,props:i,className:n,style:a,classNames:r,styles:o,unstyled:c});if(!u)return null;const x=$e(u,h),k=f==="scatter"?($=(z=u[0])==null?void 0:z.payload)==null?void 0:$.name:null,j=Rt(g),_=l||k,N=x.map(S=>b.jsxs("div",{"data-type":f,...d("tooltipItem"),children:[b.jsxs("div",{...d("tooltipItemBody"),children:[b.jsx(Ft,{color:G(S.color,p),size:12,...d("tooltipItemColor"),withShadow:!1}),b.jsx("div",{...d("tooltipItemName"),children:j[S.name]||S.name})]}),b.jsxs("div",{...d("tooltipItemData"),children:[typeof v=="function"?v(Nt(S,f)):Nt(S,f),y||S.unit]})]},S.name));return b.jsxs(gt,{...d("tooltip"),mod:[{type:f},m],ref:e,...w,children:[_&&b.jsx("div",{...d("tooltipLabel"),children:_}),b.jsx("div",{...d("tooltipBody"),children:N})]})});Vt.displayName="@mantine/charts/ChartTooltip";var Be={legend:"m_847eaf",legendItem:"m_17da7e62",legendItemColor:"m_6e236e21",legendItemName:"m_8ff56c0d"};function De(t){return t.filter(e=>e.color!=="none")}const Ge={},Wt=yt((t,e)=>{const i=mt("ChartLegend",Ge,t),{classNames:r,className:n,style:a,styles:o,unstyled:c,vars:s,payload:u,onHighlight:l,legendPosition:y,mod:f,series:h,showColor:m,...g}=i,v=pt({name:"ChartLegend",classes:Be,props:i,className:n,style:a,classNames:r,styles:o,unstyled:c});if(!u)return null;const w=De(u),p=Rt(h),d=w.map((x,k)=>b.jsxs("div",{...v("legendItem"),onMouseEnter:()=>l(x.dataKey),onMouseLeave:()=>l(null),"data-without-color":m===!1||void 0,children:[b.jsx(Ft,{color:x.color,size:12,...v("legendItemColor"),withShadow:!1}),b.jsx("p",{...v("legendItemName"),children:p[x.dataKey]||x.dataKey})]},k));return b.jsx(gt,{ref:e,mod:[{position:y},f],...v("legend"),...g,children:d})});Wt.displayName="@mantine/charts/ChartLegend";function Ht(t,e,i){if(e<1)return[];if(e===1&&i===void 0)return t;for(var r=[],n=0;n<t.length;n+=e)r.push(t[n]);return r}function Fe(t,e,i){var r={width:t.width+e.width,height:t.height+e.height};return pe(r,i)}function Me(t,e,i){var r=i==="width",n=t.x,a=t.y,o=t.width,c=t.height;return e===1?{start:r?n:a,end:r?n+o:a+c}:{start:r?n+o:a+c,end:r?n:a}}function Q(t,e,i,r,n){if(t*e<t*r||t*e>t*n)return!1;var a=i();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-n)<=0}function Ke(t,e){return Ht(t,e+1)}function Re(t,e,i,r,n){for(var a=(r||[]).slice(),o=e.start,c=e.end,s=0,u=1,l=o,y=function(){var m=r==null?void 0:r[s];if(m===void 0)return{v:Ht(r,u)};var g=s,v,w=function(){return v===void 0&&(v=i(m,g)),v},p=m.coordinate,d=s===0||Q(t,p,w,l,c);d||(s=0,l=o,u+=1),d&&(l=p+t*(w()/2+n),s+=u)},f;u<=a.length;)if(f=y(),f)return f.v;return[]}function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(t)}function Et(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Et(Object(i),!0).forEach(function(r){Ve(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Et(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Ve(t,e,i){return e=We(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function We(t){var e=He(t,"string");return q(e)=="symbol"?e:String(e)}function He(t,e){if(q(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xe(t,e,i,r,n){for(var a=(r||[]).slice(),o=a.length,c=e.start,s=e.end,u=function(f){var h=a[f],m,g=function(){return m===void 0&&(m=i(h,f)),m};if(f===o-1){var v=t*(h.coordinate+t*g()/2-s);a[f]=h=A(A({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[f]=h=A(A({},h),{},{tickCoord:h.coordinate});var w=Q(t,h.tickCoord,g,c,s);w&&(s=h.tickCoord-t*(g()/2+n),a[f]=A(A({},h),{},{isShow:!0}))},l=o-1;l>=0;l--)u(l);return a}function Ye(t,e,i,r,n,a){var o=(r||[]).slice(),c=o.length,s=e.start,u=e.end;if(a){var l=r[c-1],y=i(l,c-1),f=t*(l.coordinate+t*y/2-u);o[c-1]=l=A(A({},l),{},{tickCoord:f>0?l.coordinate-f*t:l.coordinate});var h=Q(t,l.tickCoord,function(){return y},s,u);h&&(u=l.tickCoord-t*(y/2+n),o[c-1]=A(A({},l),{},{isShow:!0}))}for(var m=a?c-1:c,g=function(p){var d=o[p],x,k=function(){return x===void 0&&(x=i(d,p)),x};if(p===0){var j=t*(d.coordinate-t*k()/2-s);o[p]=d=A(A({},d),{},{tickCoord:j<0?d.coordinate-j*t:d.coordinate})}else o[p]=d=A(A({},d),{},{tickCoord:d.coordinate});var _=Q(t,d.tickCoord,k,s,u);_&&(s=d.tickCoord+t*(k()/2+n),o[p]=A(A({},d),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function wt(t,e,i){var r=t.tick,n=t.ticks,a=t.viewBox,o=t.minTickGap,c=t.orientation,s=t.interval,u=t.tickFormatter,l=t.unit,y=t.angle;if(!n||!n.length||!r)return[];if(L(s)||ge.isSsr)return Ke(n,typeof s=="number"&&L(s)?s:0);var f=[],h=c==="top"||c==="bottom"?"width":"height",m=l&&h==="width"?lt(l,{fontSize:e,letterSpacing:i}):{width:0,height:0},g=function(d,x){var k=F(u)?u(d.value,x):d.value;return h==="width"?Fe(lt(k,{fontSize:e,letterSpacing:i}),m,y):lt(k,{fontSize:e,letterSpacing:i})[h]},v=n.length>=2?xe(n[1].coordinate-n[0].coordinate):1,w=Me(a,v,h);return s==="equidistantPreserveStart"?Re(v,w,g,n,o):(s==="preserveStart"||s==="preserveStartEnd"?f=Ye(v,w,g,n,o,s==="preserveStartEnd"):f=Xe(v,w,g,n,o),f.filter(function(p){return p.isShow}))}var qe=["viewBox"],Ue=["viewBox"],Je=["ticks"];function W(t){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(t)}function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},V.apply(this,arguments)}function $t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?$t(Object(i),!0).forEach(function(r){kt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function ct(t,e){if(t==null)return{};var i=Qe(t,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Qe(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yt(r.key),r)}}function tr(t,e,i){return e&&It(t.prototype,e),i&&It(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function er(t,e,i){return e=Z(e),rr(t,Xt()?Reflect.construct(e,i||[],Z(t).constructor):e.apply(t,i))}function rr(t,e){if(e&&(W(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ir(t)}function ir(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xt=function(){return!!t})()}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Z(t)}function nr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ht(t,e)}function kt(t,e,i){return e=Yt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Yt(t){var e=ar(t,"string");return W(e)=="symbol"?e:String(e)}function ar(t,e){if(W(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(W(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H=function(t){nr(e,t);function e(i){var r;return Ze(this,e),r=er(this,e,[i]),r.state={fontSize:"",letterSpacing:""},r}return tr(e,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,o=ct(r,qe),c=this.props,s=c.viewBox,u=ct(c,Ue);return!st(a,s)||!st(o,u)||!st(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,o=n.y,c=n.width,s=n.height,u=n.orientation,l=n.tickSize,y=n.mirror,f=n.tickMargin,h,m,g,v,w,p,d=y?-1:1,x=r.tickSize||l,k=L(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=m=r.coordinate,v=o+ +!y*s,g=v-d*x,p=g-d*f,w=k;break;case"left":g=v=r.coordinate,m=a+ +!y*c,h=m-d*x,w=h-d*f,p=k;break;case"right":g=v=r.coordinate,m=a+ +y*c,h=m+d*x,w=h+d*f,p=k;break;default:h=m=r.coordinate,v=o+ +y*s,g=v+d*x,p=g+d*f,w=k;break}return{line:{x1:h,y1:g,x2:m,y2:v},tick:{x:w,y:p}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o;switch(n){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,o=r.width,c=r.height,s=r.orientation,u=r.mirror,l=r.axisLine,y=T(T(T({},R(this.props,!1)),R(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!u||s==="bottom"&&u);y=T(T({},y),{},{x1:n,y1:a+f*c,x2:n+o,y2:a+f*c})}else{var h=+(s==="left"&&!u||s==="right"&&u);y=T(T({},y),{},{x1:n+h*o,y1:a,x2:n+h*o,y2:a+c})}return O.createElement("line",V({},y,{className:Y("recharts-cartesian-axis-line",Tt(l,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var o=this,c=this.props,s=c.tickLine,u=c.stroke,l=c.tick,y=c.tickFormatter,f=c.unit,h=wt(T(T({},this.props),{},{ticks:r}),n,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=R(this.props,!1),w=R(l,!1),p=T(T({},v),{},{fill:"none"},R(s,!1)),d=h.map(function(x,k){var j=o.getTickLineCoord(x),_=j.line,N=j.tick,z=T(T(T(T({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},w),N),{},{index:k,payload:x,visibleTicksCount:h.length,tickFormatter:y});return O.createElement(zt,V({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},we(o.props,x,k)),s&&O.createElement("line",V({},p,_,{className:Y("recharts-cartesian-axis-tick-line",Tt(s,"className"))})),l&&e.renderTickItem(l,z,"".concat(F(y)?y(x.value,k):x.value).concat(f||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},d)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,o=n.width,c=n.height,s=n.ticksGenerator,u=n.className,l=n.hide;if(l)return null;var y=this.props,f=y.ticks,h=ct(y,Je),m=f;return F(s)&&(m=f&&f.length>0?s(this.props):s(h)),o<=0||c<=0||!m||!m.length?null:O.createElement(zt,{className:Y("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ft.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var o;return O.isValidElement(r)?o=O.cloneElement(r,n):F(r)?o=r(n):o=O.createElement(be,V({},n,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e}(ut.Component);kt(H,"displayName","CartesianAxis");kt(H,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var or=["x1","y1","x2","y2","key"],lr=["offset"];function M(t){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(t)}function Bt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Bt(Object(i),!0).forEach(function(r){sr(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Bt(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function sr(t,e,i){return e=cr(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cr(t){var e=ur(t,"string");return M(e)=="symbol"?e:String(e)}function ur(t,e){if(M(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(M(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D(){return D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},D.apply(this,arguments)}function Dt(t,e){if(t==null)return{};var i=fr(t,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fr(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var hr=function(e){var i=e.fill;if(!i||i==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,o=e.width,c=e.height;return O.createElement("rect",{x:n,y:a,width:o,height:c,stroke:"none",fill:i,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qt(t,e){var i;if(O.isValidElement(t))i=O.cloneElement(t,e);else if(F(t))i=t(e);else{var r=e.x1,n=e.y1,a=e.x2,o=e.y2,c=e.key,s=Dt(e,or),u=R(s,!1);u.offset;var l=Dt(u,lr);i=O.createElement("line",D({},l,{x1:r,y1:n,x2:a,y2:o,fill:"none",key:c}))}return i}function dr(t){var e=t.x,i=t.width,r=t.horizontal,n=r===void 0?!0:r,a=t.horizontalPoints;if(!n||!a||!a.length)return null;var o=a.map(function(c,s){var u=C(C({},t),{},{x1:e,y1:c,x2:e+i,y2:c,key:"line-".concat(s),index:s});return qt(n,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vr(t){var e=t.y,i=t.height,r=t.vertical,n=r===void 0?!0:r,a=t.verticalPoints;if(!n||!a||!a.length)return null;var o=a.map(function(c,s){var u=C(C({},t),{},{x1:c,y1:e,x2:c,y2:e+i,key:"line-".concat(s),index:s});return qt(n,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yr(t){var e=t.horizontalFill,i=t.fillOpacity,r=t.x,n=t.y,a=t.width,o=t.height,c=t.horizontalPoints,s=t.horizontal,u=s===void 0?!0:s;if(!u||!e||!e.length)return null;var l=c.map(function(f){return Math.round(f+n-n)}).sort(function(f,h){return f-h});n!==l[0]&&l.unshift(0);var y=l.map(function(f,h){var m=!l[h+1],g=m?n+o-f:l[h+1]-f;if(g<=0)return null;var v=h%e.length;return O.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}function mr(t){var e=t.vertical,i=e===void 0?!0:e,r=t.verticalFill,n=t.fillOpacity,a=t.x,o=t.y,c=t.width,s=t.height,u=t.verticalPoints;if(!i||!r||!r.length)return null;var l=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==l[0]&&l.unshift(0);var y=l.map(function(f,h){var m=!l[h+1],g=m?a+c-f:l[h+1]-f;if(g<=0)return null;var v=h%r.length;return O.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:g,height:s,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}var pr=function(e,i){var r=e.xAxis,n=e.width,a=e.height,o=e.offset;return Mt(wt(C(C(C({},H.defaultProps),r),{},{ticks:tt(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,i)},gr=function(e,i){var r=e.yAxis,n=e.width,a=e.height,o=e.offset;return Mt(wt(C(C(C({},H.defaultProps),r),{},{ticks:tt(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,i)},K={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ut(t){var e,i,r,n,a,o,c=xt(),s=bt(),u=ke(),l=C(C({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:K.stroke,fill:(i=t.fill)!==null&&i!==void 0?i:K.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:K.horizontal,horizontalFill:(n=t.horizontalFill)!==null&&n!==void 0?n:K.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:K.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:K.verticalFill,x:L(t.x)?t.x:u.left,y:L(t.y)?t.y:u.top,width:L(t.width)?t.width:u.width,height:L(t.height)?t.height:u.height}),y=l.x,f=l.y,h=l.width,m=l.height,g=l.syncWithTicks,v=l.horizontalValues,w=l.verticalValues,p=Oe(),d=Pe();if(!L(h)||h<=0||!L(m)||m<=0||!L(y)||y!==+y||!L(f)||f!==+f)return null;var x=l.verticalCoordinatesGenerator||pr,k=l.horizontalCoordinatesGenerator||gr,j=l.horizontalPoints,_=l.verticalPoints;if((!j||!j.length)&&F(k)){var N=v&&v.length,z=k({yAxis:d?C(C({},d),{},{ticks:N?v:d.ticks}):void 0,width:c,height:s,offset:u},N?!0:g);Lt(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(M(z),"]")),Array.isArray(z)&&(j=z)}if((!_||!_.length)&&F(x)){var $=w&&w.length,S=x({xAxis:p?C(C({},p),{},{ticks:$?w:p.ticks}):void 0,width:c,height:s,offset:u},$?!0:g);Lt(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(M(S),"]")),Array.isArray(S)&&(_=S)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(hr,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height}),O.createElement(dr,D({},l,{offset:u,horizontalPoints:j,xAxis:p,yAxis:d})),O.createElement(vr,D({},l,{offset:u,verticalPoints:_,xAxis:p,yAxis:d})),O.createElement(yr,D({},l,{horizontalPoints:j})),O.createElement(mr,D({},l,{verticalPoints:_})))}Ut.displayName="CartesianGrid";function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},dt.apply(this,arguments)}var et=function(e){var i=e.xAxisId,r=xt(),n=bt(),a=je(i);return a==null?null:O.createElement(H,dt({},a,{className:Y("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return tt(c,!0)}}))};et.displayName="XAxis";et.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function vt(){return vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},vt.apply(this,arguments)}var rt=function(e){var i=e.yAxisId,r=xt(),n=bt(),a=Se(i);return a==null?null:O.createElement(H,vt({},a,{className:Y("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return tt(c,!0)}}))};rt.displayName="YAxis";rt.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var xr=Ae({chartName:"BarChart",GraphicalChild:Kt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:et},{axisType:"yAxis",AxisComp:rt}],formatAxisMap:Ce}),Jt={root:"m_a50f3e58",container:"m_af9188cb",grid:"m_a50a48bc",axis:"m_a507a517",axisLabel:"m_2293801d"};function br(t){return`${(t*100).toFixed(0)}%`}const wr={withXAxis:!0,withYAxis:!0,withTooltip:!0,tooltipAnimationDuration:0,fillOpacity:1,tickLine:"y",strokeDasharray:"5 5",gridAxis:"x",type:"default"},kr=he((t,{textColor:e,gridColor:i,cursorFill:r})=>({root:{"--chart-text-color":e?G(e,t):void 0,"--chart-grid-color":i?G(i,t):void 0,"--chart-cursor-fill":r?G(r,t):void 0}}));function Or({value:t,valueFormatter:e,...i}){return b.jsx("text",{...i,dy:-10,fontSize:12,fill:"var(--chart-text-color, var(--mantine-color-dimmed))",textAnchor:"center",children:typeof e=="function"?e(t):t})}function Pr(t,e){let i=0,r=0;return t.map(n=>{if(n.standalone)for(const a in n)typeof n[a]=="number"&&a!==e&&(n[a]=[0,n[a]]);else for(const a in n)typeof n[a]=="number"&&a!==e&&(r+=n[a],n[a]=[i,r],i=r);return n})}const Ot=yt((t,e)=>{const i=mt("BarChart",wr,t),{classNames:r,className:n,style:a,styles:o,unstyled:c,vars:s,data:u,withLegend:l,legendProps:y,series:f,onMouseLeave:h,dataKey:m,withTooltip:g,withXAxis:v,withYAxis:w,gridAxis:p,tickLine:d,xAxisProps:x,yAxisProps:k,unit:j,tooltipAnimationDuration:_,strokeDasharray:N,gridProps:z,tooltipProps:$,referenceLines:S,fillOpacity:Qt,barChartProps:Zt,type:I,orientation:U,dir:te,valueFormatter:it,children:ee,barProps:nt,xAxisLabel:at,yAxisLabel:J,withBarValueLabel:re,...ie}=i,ot=Gt(),ne=p!=="none"&&(d==="x"||d==="xy"),ae=p!=="none"&&(d==="y"||d==="xy"),[Pt,jt]=ut.useState(null),oe=Pt!==null,le=I==="stacked"||I==="percent",se=P=>{jt(null),h==null||h(P)},{resolvedClassNames:St,resolvedStyles:At}=de({classNames:r,styles:o,props:i}),Ct=I==="waterfall"?Pr(u,m):u,E=pt({name:"BarChart",classes:Jt,props:i,className:n,style:a,classNames:r,styles:o,unstyled:c,vars:s,varsResolver:kr}),ce=f.map(P=>{const B=G(P.color,ot),X=oe&&Pt!==P.name;return ut.createElement(Kt,{...E("bar"),key:P.name,name:P.name,dataKey:P.name,fill:B,stroke:B,isAnimationActive:!1,fillOpacity:X?.1:Qt,strokeOpacity:X?.2:0,stackId:le?"stack":void 0,label:re?b.jsx(Or,{valueFormatter:it}):void 0,...typeof nt=="function"?nt(P):nt},Ct.map((_t,fe)=>b.jsx(_e,{fill:_t.color?G(_t.color,ot):B},`cell-${fe}`)))}),ue=S==null?void 0:S.map((P,B)=>{const X=G(P.color,ot);return b.jsx(Te,{stroke:P.color?X:"var(--chart-grid-color)",strokeWidth:1,...P,label:{value:P.label,fill:P.color?X:"currentColor",fontSize:12,position:P.labelPosition??"insideBottomLeft"},...E("referenceLine")},B)});return b.jsx(gt,{ref:e,...E("root"),onMouseLeave:se,dir:te||"ltr",...ie,children:b.jsx(ze,{...E("container"),children:b.jsxs(xr,{data:Ct,stackOffset:I==="percent"?"expand":void 0,layout:U,margin:{bottom:at?30:void 0,left:J?10:void 0,right:J?5:void 0},...Zt,children:[l&&b.jsx(Le,{verticalAlign:"top",content:P=>b.jsx(Wt,{payload:P.payload,onHighlight:jt,legendPosition:(y==null?void 0:y.verticalAlign)||"top",classNames:St,styles:At,series:f,showColor:I!=="waterfall"}),...y}),b.jsxs(et,{hide:!v,...U==="vertical"?{type:"number"}:{dataKey:m},tick:{transform:"translate(0, 10)",fontSize:12,fill:"currentColor"},stroke:"",interval:"preserveStartEnd",tickLine:ne?{stroke:"currentColor"}:!1,minTickGap:5,...E("axis"),...x,children:[at&&b.jsx(ft,{position:"insideBottom",offset:-20,fontSize:12,...E("axisLabel"),children:at}),x==null?void 0:x.children]}),b.jsxs(rt,{hide:!w,axisLine:!1,...U==="vertical"?{dataKey:m,type:"category"}:{type:"number"},tickLine:ae?{stroke:"currentColor"}:!1,tick:{transform:"translate(-10, 0)",fontSize:12,fill:"currentColor"},allowDecimals:!0,unit:j,tickFormatter:I==="percent"?br:it,...E("axis"),...k,children:[J&&b.jsx(ft,{position:"insideLeft",angle:-90,textAnchor:"middle",fontSize:12,offset:-5,...E("axisLabel"),children:J}),k==null?void 0:k.children]}),b.jsx(Ut,{strokeDasharray:N,vertical:p==="y"||p==="xy",horizontal:p==="x"||p==="xy",...E("grid"),...z}),g&&b.jsx(Ne,{animationDuration:_,isAnimationActive:_!==0,position:U==="vertical"?{}:{y:0},cursor:{stroke:"var(--chart-grid-color)",strokeWidth:1,strokeDasharray:N,fill:"var(--chart-cursor-fill)"},content:({label:P,payload:B})=>b.jsx(Vt,{label:P,payload:B,type:I==="waterfall"?"scatter":void 0,unit:j,classNames:St,styles:At,series:f,valueFormatter:it}),...$}),ce,ue,ee]})})})});Ot.displayName="@mantine/charts/BarChart";Ot.classes=Jt;const Er=t=>{var a;console.log(t);const[e,i]=O.useState(t.auth.user.id||""),r=e===t.auth.user.id?"":e;let n=t.tests.reduce((o,c)=>{const s=c.tests[0].work.name;if(s){const u=o.find(l=>l.personalityName===s);u?u.Mahasiswa+=1:o.push({personalityName:s,Mahasiswa:1})}return o},[]);return r&&(n=(a=t.tests)==null?void 0:a.filter(o=>r===""||o.supervisor_id===r).reduce((o,c)=>{const s=c.tests[0].work.name;if(s){const u=o.find(l=>l.personalityName===s);u?u.Mahasiswa+=1:o.push({personalityName:s,Mahasiswa:1})}return o},[])),b.jsxs(ve,{title:"Grafik",activeNav:"Grafik",authed:t.auth.user,meta:t.meta,children:[b.jsx(me,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:b.jsx(ye,{}),clearable:!0,mb:16,searchable:!0,value:e,disabled:t.auth.user.role==="Dosen PA",nothingFoundMessage:"Tidak ada dosen pembimbing",checkIconPosition:"right",placeholder:"Dosen Pembimbing",data:t.lecturers.map(o=>({value:o.user.id,label:o.user.full_name})),onChange:o=>i(o)}),b.jsx(Ot,{h:"100vh",tickLine:"xy",gridAxis:"xy",data:n,dataKey:"personalityName",withLegend:!0,xAxisLabel:"Kepribadian",yAxisLabel:`${r?t.tests.filter(o=>o.supervisor_id===r).length:t.tests.length} dari ${r?t.students.filter(o=>o.supervisor_id===r).length:t.students.length} Mahasiswa`,series:[{name:"Mahasiswa",color:"blue"}],withBarValueLabel:!0})]})};export{Er as default};
