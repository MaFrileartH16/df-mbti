import{W as l,j as a,F as d}from"./app-CJZtBH82.js";import{A as u,b as n,F as m,B as s}from"./AppLayout-D9-29hHX.js";import{T as g}from"./Title-C1HquksU.js";import{S as h}from"./SimpleGrid-CqpyIJFX.js";import{T as i}from"./TextInput-Ck-y8Io8.js";import{I as p,a as c}from"./IconPhone-GW0VmNzK.js";import{Y as b}from"./YearPickerInput-BXjLNIp1.js";import{I as f}from"./IconCalendar-DDfhRy1j.js";import{I as k,a as _}from"./IconPassword-MK7UYmO9.js";import{S as v}from"./Select-Dug6bf4k.js";import"./get-base-value-C5hP2jTK.js";import"./InputBase-XWcZXW4_.js";import"./Input-4OZHKVck.js";import"./clamp-DTmYCdls.js";import"./ScrollArea-L0_Y3rbC.js";const N=t=>{console.log(t);const e=l({full_name:t.user.full_name,student_id_number:t.user.id_number,phone_number:t.user.phone_number,academic_year:t.user.student.academic_year,email:t.user.email,password:"",supervisor_id:t.user.student.supervisor_id});return a.jsx("form",{onSubmit:r=>{r.preventDefault(),e.put(route("students.update",t.user))},children:a.jsxs(u,{title:"Ubah Mahasiswa",activeNav:"Mahasiswa",authed:t.auth.user,meta:t.meta,children:[a.jsx(g,{align:"center",mb:32,children:"Ubah Data Mahasiswa"}),a.jsxs(h,{cols:2,my:16,children:[a.jsx(i,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:a.jsx(n,{}),withAsterisk:!0,label:"Nama Lengkap",value:e.data.full_name,placeholder:"Masukkan nama lengkap...",onChange:r=>{e.setData("full_name",r.target.value),r.target.value?e.clearErrors("full_name"):e.setError({full_name:"Nama lengkap tidak boleh kosong."})},error:e.errors.full_name}),a.jsx(i,{type:"number",styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:a.jsx(p,{}),withAsterisk:!0,value:e.data.student_id_number,label:"NIM",hideControls:!0,placeholder:"Masukkan NIM...",onChange:r=>{e.setData("student_id_number",r.target.value.toString()),r.target.value?e.clearErrors("student_id_number"):e.setError({student_id_number:"NIM tidak boleh kosong."}),r.target.value.toString().length<10||r.target.value.toString().length>10?e.setError({student_id_number:"NIM harus 10 digit."}):e.clearErrors("student_id_number")},error:e.errors.student_id_number}),a.jsx(i,{type:"number",styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:a.jsx(c,{}),withAsterisk:!0,value:e.data.phone_number,label:"Nomor Telepon",hideControls:!0,placeholder:"Masukkan nomor telepon...",onChange:r=>{e.setData("phone_number",r.target.value.toString()),r.target.value?e.clearErrors("phone_number"):e.setError({phone_number:"Nomor telepon tidak boleh kosong."}),r.target.value.toString().length<10||r.target.value.toString().length>13?e.setError({phone_number:"Nomor telepon harus 10-13 digit."}):e.clearErrors("phone_number")},error:e.errors.phone_number}),a.jsx(b,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:a.jsx(f,{}),withAsterisk:!0,value:new Date(e.data.academic_year),label:"Tahun Angkatan",placeholder:"Masukkan tahun angkatan...",onChange:r=>{r?(e.clearErrors("academic_year"),e.setData("academic_year",r.getFullYear().toString())):e.setError({academic_year:"Tahun akademik tidak boleh kosong."})},error:e.errors.academic_year}),a.jsx(i,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:a.jsx(k,{}),withAsterisk:!0,type:"email",value:e.data.email,label:"Email",placeholder:"Masukkan email...",onChange:r=>{e.setData("email",r.target.value.toLowerCase()),r.target.value?e.clearErrors("email"):e.setError({email:"Email tidak boleh kosong."})},error:e.errors.email}),a.jsx(i,{type:"password",styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:a.jsx(_,{}),label:"Kata Sandi",placeholder:"Masukkan kata sandi...",onChange:r=>e.setData("password",r.target.value)})]}),a.jsx(v,{styles:{label:{marginBottom:8},input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:16},section:{marginLeft:0,width:48,height:48},error:{marginTop:8}},leftSection:a.jsx(n,{}),label:"Dosen Pembimbing Akademik",placeholder:"Masukkan Dosen Pembimbing Akademik...",clearable:!0,withAsterisk:!0,value:e.data.supervisor_id,searchable:!0,nothingFoundMessage:"Tidak ada dosen pembimbing akademik",checkIconPosition:"right",data:t.lecturers.map(r=>({label:r.user.full_name,value:r.user.id})),onChange:r=>{e.setData("supervisor_id",r),r?e.clearErrors("supervisor_id"):e.setError({supervisor_id:"Dosen pembimbing akademik tidak boleh kosong."})},error:e.errors.supervisor_id}),a.jsxs(m,{mt:24,gap:16,children:[a.jsx(s,{h:48,px:16,styles:{section:{marginRight:12}},radius:32,variant:"outline",color:"red",disabled:e.processing,fullWidth:!0,onClick:()=>d.get(route("students.index")),children:"Batal"}),a.jsx(s,{h:48,px:16,styles:{section:{marginRight:12}},radius:32,disabled:e.hasErrors||Object.entries(e.data).some(([r,o])=>r!=="password"&&!o),fullWidth:!0,loading:e.processing,type:"submit",children:"Simpan"})]})]})})};export{N as default};
